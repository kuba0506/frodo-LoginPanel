!function(o){"use strict";function r(r,n){var s,t,i=this;i.defaults_provider=e.defaults.provider,i.options_provider=n.provider,i.config=s=o.extend(!0,{},e.defaults,n),i.element=r;var a=Object.keys(e.translation[e.defaults.lang]),d="undefined"!=typeof e.translation[s.lang]?Object.keys(e.translation[s.lang]):void 0;i.lang="undefined"==typeof d||a.length!==d.length?e.defaults.lang:s.lang,i.body=t=e.frodoConfig.body,i.element.on("click",function(o){i.stopEvent(o),i.resetMainClasses(!0),i.showAlert(null,{messageBox:e.frodoConfig.frodoLogin.message,text:e.frodoConfig.frodoLogin.message+" > span",alert:e.frodoConfig.frodoLogin.messageAlert}),i.toggleForm("init"),i.clearErrors(),i.clearInputs(),i.submitDisabled(!1),i.focusFirst()}),"desktop"===s.device&&(o(t).on("click","."+e.frodoConfig.frodoHeader.closeBtn,function(){i.closePanel()}),o(t).on("keyup",function(o){27===o.keyCode&&null!==e.frodoConfig.currentForm&&i.closePanel()})),o(t).on("click","."+e.frodoConfig.frodoLogin.signUp,function(o){i.stopEvent(o),i.toggleForm("signup"),i.clearErrors(),i.submitDisabled(!1),i.focusFirst()}),o(t).on("click","."+e.frodoConfig.frodoLogin.forgot,function(o){i.stopEvent(o),i.toggleForm("reset"),i.clearErrors(),i.submitDisabled(!1),i.focusFirst()}),o(t).on("input","input",function(r){(13==r.which||13==r.keyCode)&&o("."+e.frodoConfig.frodoForm).trigger("submit"),i.submitDisabled(!0),i.validate(r),i.stopEvent(r)}),o(t).on("submit","."+e.frodoConfig.frodoForm,function(o){i.stopEvent(o),i.validate(o)}),o(t).on("click",".frodo-btn",function(){var r,n="http://jurczynski.czest.pl/registerFailed.json?callback=myCallback",s="http://jurczynski.czest.pl/registerSuccess.json?callback=myCallback",t=[n,s];r=i.getRandomInt(0,t.length-1),o.ajax({type:"GET",url:t[r],dataType:"jsonp",jsonpCallback:"myCallback"}).then(function(o){i.showAlert(o,{messageBox:e.frodoConfig.frodoLogin.message,text:e.frodoConfig.frodoLogin.message+"> span",alert:e.frodoConfig.frodoLogin.messageAlert})})}),i.init()}var e={defaults:{lang:"en",version:"basic",provider:["eniro","facebook","google"],device:"desktop",clientId:"",redirectUri:"/",scope:""},frodoConfig:{currentForm:null,forms:["login","signup","reset"],body:"body",frodoWrapper:"frodo-wrapper",frodo:"frodo",frodoOverlay:"frodo-overlay",frodoForm:"frodo-form",frodoHeader:{header:"frodo-header",text:"frodo-header-txt",closeBtn:"frodo-btn-close"},frodoLogin:{box:"frodo-login-box",message:"frodo-message",messageAlert:"frodo-message-alert",messageSuccess:"frodo-message-success",frodoProvider:"frodo-provider",frodoProviderMobile:"frodo-provider-mobile",input:"frodo-input",inputWrapper:"frodo-input-wrapper",inputError:"frodo-err-msg",footer:"frodo-login-footer",linksWrapper:"frodo-links",forgot:"frodo-forgot",signUp:"frodo-sign-up",submit:"frodo-btn-submit"},log:"frodo-log-with",social:"frodo-social",frodoVisible:"frodo-visible",hideClass:"frodo-hide",noScroll:"frodo-no-scroll",errorClass:{input:"frodo-err-input",msg:"frodo-err-msg"},method:"get",submitUrl:"?",forgotLink:"#",signUpLink:"#"},translation:{en:{loginTxt:"Log in",signUpTxt:"Sign up",resetTxt:"Password Reset",userPlaceholder:"Fullname",passPlaceholder:"Password",passConfirmPlaceholder:"Confirm password",emailPlaceholder:"Email",emailResetPlaceholder:"Your email address",links:["Forgot your password ?","Sign up now","Log in now"],login:"Submit",logWith:"or",errors:{email:"Invalid email address format",password:"Password should be at least 8 characters",passwordNotMatch:"Passwords don't match",fullname:"Invalid username"}},se:{loginTxt:"Logga in",signUpTxt:"Skapa nytt konto",resetTxt:"E-postadress Återställning",userPlaceholder:"För och efternamn",passPlaceholder:"Lösenord",passConfirmPlaceholder:"Bekräfta lösenord",emailPlaceholder:"E-postadress",emailResetPlaceholder:"Din E-postadress",links:["Glömt lösenord?","Skapa nytt konto","Logga in"],login:"Skicka",logWith:"eller",errors:{email:"Ogiltig E-mailadress",password:"Lösenord skall innehålla minst åtta tecken",passwordNotMatch:"De använda lösernorden stämmer inte med varandra",fullname:"Ogiltigt användarnamn"}},dk:{loginTxt:"Log ind",signUpTxt:"Opret ny konto",resetTxt:"Nulstil adgangskode",userPlaceholder:"For-og efternavn",passPlaceholder:"Adgangskode",passConfirmPlaceholder:"Bekræft adgangskode",emailPlaceholder:"Mailadresse",emailResetPlaceholder:"Din mailadresse",links:["Glemt adgangskode?","Opret ny konto","Log ind"],login:"Send",logWith:"eller",errors:{email:"Ugyldig mailadresse",password:"Adgangskode skal indeholde mindst otte tegn",passwordNotMatch:"De indtastede adgangskoder er ikke ens",fullname:"Ugyldigt brugernavn"}},no:{loginTxt:"Logg inn",signUpTxt:"Opprett ny konto",resetTxt:"Nullstill passord",userPlaceholder:"For- og etternavn",passPlaceholder:"Passord",passConfirmPlaceholder:"Bekreft passord",emailPlaceholder:"E-postadresse",emailResetPlaceholder:"Din e-postadresse",links:["Glemt passordet ditt ?","Opprett ny konto","Logg inn"],login:"Send",logWith:"eller",errors:{email:"Ugyldig e-postadresse",password:"Passordet må være på minst åtte tegn",passwordNotMatch:"Passordet matcher ikke inntastet passord",fullname:"Ugyldig brukernavn"}},ar:{loginTxt:"تسجيل دخول",signUpTxt:"تسجيل",resetTxt:"إعادة تعيين كلمة المرور",userPlaceholder:"الاسم الكامل",passPlaceholder:"كلمة المرور",passConfirmPlaceholder:"تأكيد كلمة المرور",emailPlaceholder:"بريد إلكتروني",emailResetPlaceholder:"عنوان بريدك الإلكتروني",links:["هل نسيت كلمة المرور؟","التسجيل الآن","تسجيل الدخول الآن"],login:"اعتماد",logWith:"أو",errors:{email:" تنسيق عنوان البريد الإلكتروني غير صحيح",password:"يجب أن تتكون كلمة المرور من 8 حروف على الأقل",passwordNotMatch:"كلمة المرور غير متطابقة",fullname:"اسم المستخدم غير صحيح"}}},socialBtn:{eniro:{text:"Eniro",link:"https://accounts.eniro.com.test.eniro.net/frodo/oauth/eniro/authorize?response_type=code&client_id={client_id}&scope={scope}&redirect_uri={redirect_uri}"},facebook:{text:"Facebook",link:"https://accounts.eniro.com.test.eniro.net/frodo/oauth/facebook/authorize?response_type=code&client_id={client_id}&scope={scope}&redirect_uri={redirect_uri}"},google:{text:"Google",link:"https://accounts.eniro.com.test.eniro.net/frodo/oauth/google/authorize?response_type=code&client_id={client_id}&scope={scope}&redirect_uri={redirect_uri}"}}};r.prototype.init=function(){var r=this.config,n=this.lang,s=o("#"+e.frodoConfig.frodoWrapper),t=[],i=this.defaults_provider,a=this.options_provider,d={},l=null;if(d={wrapper:o("<div/>",{id:e.frodoConfig.frodoWrapper}),overlay:o("<div/>",{"class":"desktop"===r.device?e.frodoConfig.frodoOverlay:""}),frodo:o("<div/>",{id:e.frodoConfig.frodo,"class":e.frodoConfig.frodo}),form:o("<form/>",{"class":e.frodoConfig.frodoForm,action:e.frodoConfig.submitUrl,method:e.frodoConfig.method,name:e.frodoConfig.frodoForm,novalidate:!0}),header:o("<h3/>",{"class":e.frodoConfig.frodoHeader.header}),headerTxt:o("<span/>",{"class":e.frodoConfig.frodoHeader.text,html:e.translation[n].loginTxt}),closeBtn:o("<button/>",{"class":e.frodoConfig.frodoHeader.closeBtn,type:"button",html:"x"}),loginBox:o("<div/>",{"class":e.frodoConfig.frodoLogin.box}),message:o("<div/>",{id:e.frodoConfig.frodoLogin.message,"class":e.frodoConfig.frodoLogin.message}).append(o("<span/>")),inputWrapper:o("<div/>",{"class":e.frodoConfig.frodoLogin.inputWrapper}).append(o("<span/>",{"class":e.frodoConfig.frodoLogin.inputError})),input:{fullname:o("<input/>",{type:"text",name:"fullname","class":e.frodoConfig.frodoLogin.input+" "+e.frodoConfig.hideClass,placeholder:e.translation[n].userPlaceholder,disabled:!0}),email:o("<input/>",{type:"email",name:"email","class":e.frodoConfig.frodoLogin.input,placeholder:e.translation[n].emailPlaceholder}),password:o("<input/>",{id:"firstPassword","class":e.frodoConfig.frodoLogin.input,type:"password",name:"password","data-if-match":"#secondPassword",placeholder:e.translation[n].passPlaceholder}),passwordConfirm:o("<input/>",{id:"secondPassword","class":e.frodoConfig.frodoLogin.input+" "+e.frodoConfig.hideClass,type:"password",name:"passwordConfirm",placeholder:e.translation[n].passConfirmPlaceholder,"data-if-match":"#firstPassword",disabled:!0}),passwordReset:o("<input/>",{type:"email",name:"passwordReset","class":e.frodoConfig.frodoLogin.input+" "+e.frodoConfig.hideClass,placeholder:e.translation[n].emailResetPlaceholder,disabled:!0})},loginFooter:o("<div/>",{"class":e.frodoConfig.frodoLogin.footer}),frodoLinksWrapper:o("<div/>",{"class":e.frodoConfig.frodoLogin.linksWrapper}),forgotLink:o("<a/>",{href:e.frodoConfig.forgotLink,"class":e.frodoConfig.frodoLogin.forgot,html:e.translation[n].links[0]}),signUpLink:o("<a/>",{href:e.frodoConfig.signUpLink,"class":e.frodoConfig.frodoLogin.signUp,html:e.translation[n].links[1]}),submitBtn:o("<button/>",{"class":e.frodoConfig.frodoLogin.submit,type:"submit",html:e.translation[n].login}),logWith:o("<span/>",{"class":e.frodoConfig.log,html:e.translation[n].logWith}),socialWrapper:o("<div/>",{"class":e.frodoConfig.social})},0!==s.length)return!1;if(o(e.frodoConfig.body).wrapInner(d.wrapper).find("#"+e.frodoConfig.frodoWrapper).append(d.frodo.append(d.form),d.overlay),"desktop"===r.device?d.header.append(d.headerTxt,d.closeBtn):d.header.append(d.headerTxt),o("."+e.frodoConfig.frodoForm).append(d.header),"advanced"===r.version){d.frodoLinksWrapper.append(d.forgotLink,d.signUpLink),d.loginFooter.append(d.frodoLinksWrapper,d.submitBtn),l=Object.keys(d.input);for(var f=0,g=l.length;g>f;f++)t.push(d.input[l[f]]);t=t.map(function(o){return d.inputWrapper.clone().prepend(o)}),d.loginBox.append(d.message,t,d.loginFooter),o("."+e.frodoConfig.frodoForm).append(d.loginBox),o("."+e.frodoConfig.frodoForm).append(d.logWith)}d.socialWrapper.each(function(){var n="",s=r.version,t=(r.provider,"desktop"===r.device?e.frodoConfig.frodoLogin.frodoProvider:e.frodoConfig.frodoLogin.frodoProvider+" "+e.frodoConfig.frodoLogin.frodoProviderMobile),d=i,l=a,f=d.slice();l&&l.forEach(function(o){f.forEach(function(r){o!==r&&-1===f.indexOf(o)&&f.push(o)})}),"advanced"===s&&f.forEach(function(o,r){"eniro"===o&&f.splice(r,1)}),f.forEach(function(o){if(o in e.socialBtn){var s=e.socialBtn[o].link;s=s.replace("{client_id}",r.clientId),s=s.replace("{scope}",r.scope),s=s.replace("{redirect_uri}",r.redirectUri),n+='<div class="'+t+'" ">                                    <a class="frodo-btn frodo-btn-'+o+'"                                      href="'+s+'">                                    <i class="fa faa-'+o+'"></i>'+e.socialBtn[o].text+"</a>                                    </div>"}}),o(this).append(n)}),o("."+e.frodoConfig.frodoForm).append(d.socialWrapper),e.frodoConfig.currentForm=e.frodoConfig.forms[0],console.log("Login panel created")},r.prototype.stopEvent=function(o){var o=o||window.event;o.preventDefault(),o.stopPropagation()},r.prototype.resetMainClasses=function(r){return o("."+e.frodoConfig.frodoOverlay).toggleClass(e.frodoConfig.frodoVisible,r),o("#"+e.frodoConfig.frodo).toggleClass(e.frodoConfig.frodoVisible,r),o("#"+e.frodoConfig.frodoWrapper).addClass(e.frodoConfig.noScroll,r),!0},r.prototype.clearErrors=function(){var r=o("."+e.frodoConfig.frodoLogin.box),n=e.frodoConfig.errorClass.msg,s=e.frodoConfig.errorClass.input,t=r.find("."+s),i=r.find("."+n);return t.removeClass(s),i.text("").removeClass(n),!0},r.prototype.focusFirst=function(){return o("."+e.frodoConfig.frodoLogin.input).first().focus()},r.prototype.submitDisabled=function(r){var n=o("."+e.frodoConfig.frodoLogin.submit);return n.prop("disabled",r)},r.prototype.validate=function(r){function n(){return h.attr("name")}function s(){return h.attr("type")}function t(o){return s()===o}function i(o){return o.val()}function a(o){return i(o).length}function d(o){var r=a(o);return!r}function l(o){var r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return r.test(i(o))}function f(o){var r=a(o);return 8>r||d(o)?!1:!0}function g(){var r=o("."+e.frodoConfig.frodoLogin.box).find("."+e.frodoConfig.frodoLogin.input).not(":disabled").filter(function(){return!o(this).val()});r.find("span");return n()===e.frodoConfig.frodoForm&&r.each(function(){var r=o(this),n=o("span",r.parent()),s=r.attr("type"),t=e.translation[C].errors;"text"===s?(r.addClass(e.frodoConfig.errorClass.input),n.text(t.fullname).addClass(e.frodoConfig.errorClass.msg)):"password"===s?(r.addClass(e.frodoConfig.errorClass.input),n.text(t.password).addClass(e.frodoConfig.errorClass.msg)):"email"===s&&(r.addClass(e.frodoConfig.errorClass.input),n.text(t.email).addClass(e.frodoConfig.errorClass.msg))}),r.length}function p(o,r){var n=e.translation[C].errors,s=n[r];o?(h.addClass(e.frodoConfig.errorClass.input),k.text(s).addClass(e.frodoConfig.errorClass.msg)):(h.removeClass(e.frodoConfig.errorClass.input),k.text("").removeClass(e.frodoConfig.errorClass.msg))}function c(r){var n=r.data("if-match"),s=i(r),t=o(n).val(),a=o("[data-if-match]",o("."+e.frodoConfig.frodoForm)).siblings("span");t.length>=8&&(s!==t?(k.text(e.translation[C].errors.passwordNotMatch).addClass(e.frodoConfig.errorClass.msg),m.submitDisabled(!0)):(a.text("").removeClass(e.frodoConfig.errorClass.msg),u()))}function u(){return 1>v&&0===g()?m.submitDisabled(!1):m.submitDisabled(!0)}var m=this,C=(this.config,this.lang),h=o(r.target),v=null,k=(o("."+e.frodoConfig.frodoLogin.submit),o("span",h.parent()));n()===e.frodoConfig.frodoForm&&u(),t("email")&&(l(h)?(p(!1,"email"),v=o("."+e.frodoConfig.errorClass.input).length,u()):p(!0,"email")),t("password")&&(f(h)?(p(!1,"password"),v=o("."+e.frodoConfig.errorClass.input).length,u(),e.frodoConfig.currentForm===e.frodoConfig.forms[1]&&c(h)):(p(!0,"password"),e.frodoConfig.currentForm===e.frodoConfig.forms[1]&&c(h))),t("text")&&(d(h)?p(!0,"fullname"):(p(!1,"password"),v=o("."+e.frodoConfig.errorClass.input).length,u()))},r.prototype.toggleForm=function(r){function n(r,e){return o(r).text(e),!0}function s(r,n){return r.map(function(r){-1!==n.indexOf(r)?o('.frodo-input[name="'+r+'"]').removeClass(e.frodoConfig.hideClass).prop("disabled",!1):o('.frodo-input[name="'+r+'"]').addClass(e.frodoConfig.hideClass).prop("disabled",!0)}),!0}function t(r){var e=[];return r.each(function(){return e.push(o(this).attr("name"))}),e}var i=(this.config,e.translation[this.lang]),a=o(".frodo-input"),d=[a.filter('[name="email"]').attr("name"),a.filter('[name="password"]').attr("name")],l=[a.filter('[name="fullname"]').attr("name"),a.filter('[name="email"]').attr("name"),a.filter('[name="password"]').attr("name"),a.filter('[name="passwordConfirm"]').attr("name")],f=[a.filter('[name="passwordReset"]').attr("name")],g=t(a),p=o("."+e.frodoConfig.frodoHeader.text),c=o("."+e.frodoConfig.frodoLogin.signUp);return this.showAlert(null,{messageBox:e.frodoConfig.frodoLogin.message,text:e.frodoConfig.frodoLogin.message+" > span",alert:e.frodoConfig.frodoLogin.messageAlert}),this.clearInputs(),"signup"===r?p.text()===i.loginTxt||p.text()===i.resetTxt?(s(g,l),n(p,i.signUpTxt),n(c,i.links[2]),e.frodoConfig.currentForm=e.frodoConfig.forms[1]):(s(g,d),n(p,i.loginTxt),n(c,i.links[1]),e.frodoConfig.currentForm=e.frodoConfig.forms[0]):"reset"===r?(s(g,f),n(p,i.resetTxt),n(c,i.links[1]),e.frodoConfig.currentForm=e.frodoConfig.forms[2]):"init"===r&&(s(g,d),n(p,i.loginTxt),n(c,i.links[1]),e.frodoConfig.currentForm=e.frodoConfig.forms[0]),!0},r.prototype.showAlert=function(r,e){return void 0===r&&(r=!1),r&&r.fail?(o("#"+e.messageBox).addClass(e.alert),o("."+e.text).empty().text(r.message)):(o("#"+e.messageBox).removeClass(e.alert),o("."+e.text).empty()),!0},r.prototype.closePanel=function(){return this.resetMainClasses(!1),this.clearInputs(),this.submitDisabled(!1),e.frodoConfig.currentForm=null,!0},r.prototype.clearInputs=function(){return o("."+e.frodoConfig.frodoLogin.input).each(function(){this.value=""}),!0},r.prototype.getRandomInt=function(o,r){return Math.floor(Math.random()*(r-o+1))+o},o.fn.frodo=function(o){return new r(this,o),this}}(jQuery);
//# sourceMappingURL=jquery.frodo.min.js.map

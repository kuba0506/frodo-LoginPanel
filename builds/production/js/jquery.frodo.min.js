!function(o){"use strict";function e(e,n){var a,i,l=this;l.defaults_provider=r.provider,l.options_provider=n.provider,l.config=a=o.extend(!0,{},r,n),l.element=e;var d=Object.keys(t[r.lang]),p="undefined"!=typeof t[a.lang]?Object.keys(t[a.lang]):void 0;l.lang="undefined"==typeof p||d.length!==p.length?r.lang:a.lang,l.body=i=s.body,l.element.on("click",function(o){l.stopEvent(o),l.resetMainClasses(!0),l.showAlert(null,{messageBox:s.frodoLogin.message,text:s.frodoLogin.message+" > span",alert:s.frodoLogin.messageAlert}),l.toggleForm("init"),l.clearErrors(),l.clearInputs(),l.submitDisabled(!1),l.focusFirst()}),"desktop"===a.device&&(o(i).on("click","."+s.frodoHeader.closeBtn,function(){l.closePanel()}),o(i).on("keyup",function(o){27===o.keyCode&&null!==s.currentForm&&l.closePanel()})),o(i).on("click","."+s.frodoLogin.signUp,function(o){l.stopEvent(o),l.toggleForm("signup"),l.clearErrors(),l.submitDisabled(!1),l.focusFirst()}),o(i).on("click","."+s.frodoLogin.forgot,function(o){l.stopEvent(o),l.toggleForm("reset"),l.clearErrors(),l.submitDisabled(!1),l.focusFirst()}),o(i).on("input","input",function(e){(13===e.which||13===e.keyCode)&&o("."+s.frodoForm).trigger("submit"),l.submitDisabled(!0),l.validate(e),l.stopEvent(e)}),o(i).on("submit","."+s.frodoForm,function(o){l.stopEvent(o),l.validate(o)}),o(i).on("click",".frodo-btn",function(){var e,r="http://jurczynski.czest.pl/registerFailed.json?callback=myCallback",t="http://jurczynski.czest.pl/registerSuccess.json?callback=myCallback",n=[r,t];e=l.getRandomInt(0,n.length-1),o.ajax({type:"GET",url:n[e],dataType:"jsonp",jsonpCallback:"myCallback"}).then(function(o){l.showAlert(o,{messageBox:s.frodoLogin.message,text:s.frodoLogin.message+"> span",alert:s.frodoLogin.messageAlert})})}),l.init()}var r={lang:"en",version:"basic",provider:["linkedin","facebook","google"],device:"desktop",clientId:"",redirectUri:"/",scope:""},s={currentForm:null,forms:["login","signup","reset"],body:"body",frodoWrapper:"frodo-wrapper",frodo:"frodo",frodoOverlay:"frodo-overlay",frodoForm:"frodo-form",frodoHeader:{header:"frodo-header",text:"frodo-header-txt",closeBtn:"frodo-btn-close"},frodoLogin:{box:"frodo-login-box",message:"frodo-message",messageAlert:"frodo-message-alert",messageSuccess:"frodo-message-success",frodoProvider:"frodo-provider",frodoProviderMobile:"frodo-provider-mobile",input:"frodo-input",inputWrapper:"frodo-input-wrapper",inputError:"frodo-err-msg",footer:"frodo-login-footer",linksWrapper:"frodo-links",forgot:"frodo-forgot",signUp:"frodo-sign-up",submit:"frodo-btn-submit"},log:"frodo-log-with",social:"frodo-social",frodoVisible:"frodo-visible",hideClass:"frodo-hide",noScroll:"frodo-no-scroll",errorClass:{input:"frodo-err-input",msg:"frodo-err-msg"},method:"get",submitUrl:"?",forgotLink:"#",signUpLink:"#"},t={en:{loginTxt:"Log in",signUpTxt:"Sign up",resetTxt:"Password Reset",userPlaceholder:"Fullname",passPlaceholder:"Password",passConfirmPlaceholder:"Confirm password",emailPlaceholder:"Email",emailResetPlaceholder:"Your email address",links:["Forgot your password ?","Sign up now","Log in now"],login:"Submit",logWith:"or",errors:{email:"Invalid email address format",password:"Password should be at least 8 characters",passwordNotMatch:"Passwords don't match",fullname:"Invalid username"}},se:{loginTxt:"Logga in",signUpTxt:"Skapa nytt konto",resetTxt:"E-postadress Återställning",userPlaceholder:"För och efternamn",passPlaceholder:"Lösenord",passConfirmPlaceholder:"Bekräfta lösenord",emailPlaceholder:"E-postadress",emailResetPlaceholder:"Din E-postadress",links:["Glömt lösenord?","Skapa nytt konto","Logga in"],login:"Skicka",logWith:"eller",errors:{email:"Ogiltig E-mailadress",password:"Lösenord skall innehålla minst åtta tecken",passwordNotMatch:"De använda lösernorden stämmer inte med varandra",fullname:"Ogiltigt användarnamn"}},dk:{loginTxt:"Log ind",signUpTxt:"Opret ny konto",resetTxt:"Nulstil adgangskode",userPlaceholder:"For-og efternavn",passPlaceholder:"Adgangskode",passConfirmPlaceholder:"Bekræft adgangskode",emailPlaceholder:"Mailadresse",emailResetPlaceholder:"Din mailadresse",links:["Glemt adgangskode?","Opret ny konto","Log ind"],login:"Send",logWith:"eller",errors:{email:"Ugyldig mailadresse",password:"Adgangskode skal indeholde mindst otte tegn",passwordNotMatch:"De indtastede adgangskoder er ikke ens",fullname:"Ugyldigt brugernavn"}},no:{loginTxt:"Logg inn",signUpTxt:"Opprett ny konto",resetTxt:"Nullstill passord",userPlaceholder:"For- og etternavn",passPlaceholder:"Passord",passConfirmPlaceholder:"Bekreft passord",emailPlaceholder:"E-postadresse",emailResetPlaceholder:"Din e-postadresse",links:["Glemt passordet ditt ?","Opprett ny konto","Logg inn"],login:"Send",logWith:"eller",errors:{email:"Ugyldig e-postadresse",password:"Passordet må være på minst åtte tegn",passwordNotMatch:"Passordet matcher ikke inntastet passord",fullname:"Ugyldig brukernavn"}},ar:{loginTxt:"تسجيل دخول",signUpTxt:"تسجيل",resetTxt:"إعادة تعيين كلمة المرور",userPlaceholder:"الاسم الكامل",passPlaceholder:"كلمة المرور",passConfirmPlaceholder:"تأكيد كلمة المرور",emailPlaceholder:"بريد إلكتروني",emailResetPlaceholder:"عنوان بريدك الإلكتروني",links:["هل نسيت كلمة المرور؟","التسجيل الآن","تسجيل الدخول الآن"],login:"اعتماد",logWith:"أو",errors:{email:" تنسيق عنوان البريد الإلكتروني غير صحيح",password:"يجب أن تتكون كلمة المرور من 8 حروف على الأقل",passwordNotMatch:"كلمة المرور غير متطابقة",fullname:"اسم المستخدم غير صحيح"}}},n={eniro:{text:"Eniro",link:"#"},facebook:{text:"Facebook",link:"#"},twitter:{text:"Twitter",link:"#"},google:{text:"Google",link:"#"},linkedin:{text:"LinkedIn",link:"#"},android:{text:"Android",link:"#"},skype:{text:"Skype",link:"#"}};e.prototype.init=function(){var e,r=this.config,a=this.lang,i=o("#"+s.frodoWrapper),l=[],d=this.defaults_provider,p=this.options_provider,f=null;if(e={wrapper:o("<div/>",{id:s.frodoWrapper}),overlay:o("<div/>",{"class":"desktop"===r.device?s.frodoOverlay:""}),frodo:o("<div/>",{id:s.frodo,"class":s.frodo}),form:o("<form/>",{"class":s.frodoForm,action:s.submitUrl,method:s.method,name:s.frodoForm,novalidate:!0}),header:o("<h3/>",{"class":s.frodoHeader.header}),headerTxt:o("<span/>",{"class":s.frodoHeader.text,html:t[a].loginTxt}),closeBtn:o("<button/>",{"class":s.frodoHeader.closeBtn,type:"button",html:"x"}),loginBox:o("<div/>",{"class":s.frodoLogin.box}),message:o("<div/>",{id:s.frodoLogin.message,"class":s.frodoLogin.message}).append(o("<span/>")),inputWrapper:o("<div/>",{"class":s.frodoLogin.inputWrapper}).append(o("<span/>",{"class":s.frodoLogin.inputError})),input:{fullname:o("<input/>",{type:"text",name:"fullname","class":s.frodoLogin.input+" "+s.hideClass,placeholder:t[a].userPlaceholder,disabled:!0}),email:o("<input/>",{type:"email",name:"email","class":s.frodoLogin.input,placeholder:t[a].emailPlaceholder}),password:o("<input/>",{id:"firstPassword","class":s.frodoLogin.input,type:"password",name:"password","data-if-match":"#secondPassword",placeholder:t[a].passPlaceholder}),passwordConfirm:o("<input/>",{id:"secondPassword","class":s.frodoLogin.input+" "+s.hideClass,type:"password",name:"passwordConfirm",placeholder:t[a].passConfirmPlaceholder,"data-if-match":"#firstPassword",disabled:!0}),passwordReset:o("<input/>",{type:"email",name:"passwordReset","class":s.frodoLogin.input+" "+s.hideClass,placeholder:t[a].emailResetPlaceholder,disabled:!0})},loginFooter:o("<div/>",{"class":s.frodoLogin.footer}),frodoLinksWrapper:o("<div/>",{"class":s.frodoLogin.linksWrapper}),forgotLink:o("<a/>",{href:s.forgotLink,"class":s.frodoLogin.forgot,html:t[a].links[0]}),signUpLink:o("<a/>",{href:s.signUpLink,"class":s.frodoLogin.signUp,html:t[a].links[1]}),submitBtn:o("<button/>",{"class":s.frodoLogin.submit,type:"submit",html:t[a].login}),logWith:o("<span/>",{"class":s.log,html:t[a].logWith}),socialWrapper:o("<div/>",{"class":s.social})},0!==i.length)return!1;if(o(s.body).wrapInner(e.wrapper).find("#"+s.frodoWrapper).append(e.frodo.append(e.form),e.overlay),"desktop"===r.device?e.header.append(e.headerTxt,e.closeBtn):e.header.append(e.headerTxt),o("."+s.frodoForm).append(e.header),"advanced"===r.version){e.frodoLinksWrapper.append(e.forgotLink,e.signUpLink),e.loginFooter.append(e.frodoLinksWrapper,e.submitBtn),f=Object.keys(e.input);for(var c=0,g=f.length;g>c;c++)l.push(e.input[f[c]]);l=l.map(function(o){return e.inputWrapper.clone().prepend(o)}),e.loginBox.append(e.message,l,e.loginFooter),o("."+s.frodoForm).append(e.loginBox),o("."+s.frodoForm).append(e.logWith)}e.socialWrapper.each(function(){var e="",t=r.version,a=(r.provider,"desktop"===r.device?s.frodoLogin.frodoProvider:s.frodoLogin.frodoProvider+" "+s.frodoLogin.frodoProviderMobile),i=d,l=p,f=i.slice();l&&l.forEach(function(o){f.forEach(function(e){o!==e&&-1===f.indexOf(o)&&f.push(o)})}),"advanced"===t&&f.forEach(function(o,e){"eniro"===o&&f.splice(e,1)}),f.forEach(function(o){var s=n[o].link;s=s.replace("{client_id}",r.clientId),s=s.replace("{scope}",r.scope),s=s.replace("{redirect_uri}",r.redirectUri),o in n&&(e+='<div class="'+a+'" "><a class="frodo-btn frodo-btn-'+o+'"href="'+s+'"><i class="fa fa-'+o+'"></i>'+n[o].text+"</a></div>")}),o(this).append(e)}),o("."+s.frodoForm).append(e.socialWrapper),s.currentForm=s.forms[0],console.log("Login panel created")},e.prototype.stopEvent=function(o){o=o||window.event,o.preventDefault(),o.stopPropagation()},e.prototype.resetMainClasses=function(e){return o("."+s.frodoOverlay).toggleClass(s.frodoVisible,e),o("#"+s.frodo).toggleClass(s.frodoVisible,e),o("#"+s.frodoWrapper).addClass(s.noScroll,e),!0},e.prototype.clearErrors=function(){var e=o("."+s.frodoLogin.box),r=s.errorClass.msg,t=s.errorClass.input,n=e.find("."+t),a=e.find("."+r);return n.removeClass(t),a.text("").removeClass(r),!0},e.prototype.focusFirst=function(){return o("."+s.frodoLogin.input).first().focus()},e.prototype.submitDisabled=function(e){var r=o("."+s.frodoLogin.submit);return r.prop("disabled",e)},e.prototype.validate=function(e){function r(){return k.attr("name")}function n(){return k.attr("type")}function a(o){return n()===o}function i(o){return o.val()}function l(o){return i(o).length}function d(o){var e=l(o);return!e}function p(o){var e=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return e.test(i(o))}function f(o){var e=l(o);return 8>e||d(o)?!1:!0}function c(){var e=o("."+s.frodoLogin.box).find("."+s.frodoLogin.input).not(":disabled").filter(function(){return!o(this).val()});e.find("span");return r()===s.frodoForm&&e.each(function(){var e=o(this),r=o("span",e.parent()),n=e.attr("type"),a=t[v].errors;"text"===n?(e.addClass(s.errorClass.input),r.text(a.fullname).addClass(s.errorClass.msg)):"password"===n?(e.addClass(s.errorClass.input),r.text(a.password).addClass(s.errorClass.msg)):"email"===n&&(e.addClass(s.errorClass.input),r.text(a.email).addClass(s.errorClass.msg))}),e.length}function g(o,e){var r=t[v].errors,n=r[e];o?(k.addClass(s.errorClass.input),x.text(n).addClass(s.errorClass.msg)):(k.removeClass(s.errorClass.input),x.text("").removeClass(s.errorClass.msg))}function m(e){var r=e.data("if-match"),n=i(e),a=o(r).val(),l=o("[data-if-match]",o("."+s.frodoForm)).siblings("span");a.length>=8&&(n!==a?(x.text(t[v].errors.passwordNotMatch).addClass(s.errorClass.msg),h.submitDisabled(!0)):(l.text("").removeClass(s.errorClass.msg),u()))}function u(){return 1>b&&0===c()?h.submitDisabled(!1):h.submitDisabled(!0)}var h=this,v=(this.config,this.lang),k=o(e.target),b=null,x=(o("."+s.frodoLogin.submit),o("span",k.parent()));r()===s.frodoForm&&u(),a("email")&&(p(k)?(g(!1,"email"),b=o("."+s.errorClass.input).length,u()):g(!0,"email")),a("password")&&(f(k)?(g(!1,"password"),b=o("."+s.errorClass.input).length,u(),s.currentForm===s.forms[1]&&m(k)):(g(!0,"password"),s.currentForm===s.forms[1]&&m(k))),a("text")&&(d(k)?g(!0,"fullname"):(g(!1,"password"),b=o("."+s.errorClass.input).length,u()))},e.prototype.toggleForm=function(e){function r(e,r){return o(e).text(r),!0}function n(e,r){return e.map(function(e){-1!==r.indexOf(e)?o('.frodo-input[name="'+e+'"]').removeClass(s.hideClass).prop("disabled",!1):o('.frodo-input[name="'+e+'"]').addClass(s.hideClass).prop("disabled",!0)}),!0}function a(e){var r=[];return e.each(function(){return r.push(o(this).attr("name"))}),r}var i=(this.config,t[this.lang]),l=o(".frodo-input"),d=[l.filter('[name="email"]').attr("name"),l.filter('[name="password"]').attr("name")],p=[l.filter('[name="fullname"]').attr("name"),l.filter('[name="email"]').attr("name"),l.filter('[name="password"]').attr("name"),l.filter('[name="passwordConfirm"]').attr("name")],f=[l.filter('[name="passwordReset"]').attr("name")],c=a(l),g=o("."+s.frodoHeader.text),m=o("."+s.frodoLogin.signUp);return this.showAlert(null,{messageBox:s.frodoLogin.message,text:s.frodoLogin.message+" > span",alert:s.frodoLogin.messageAlert}),this.clearInputs(),"signup"===e?g.text()===i.loginTxt||g.text()===i.resetTxt?(n(c,p),r(g,i.signUpTxt),r(m,i.links[2]),s.currentForm=s.forms[1]):(n(c,d),r(g,i.loginTxt),r(m,i.links[1]),s.currentForm=s.forms[0]):"reset"===e?(n(c,f),r(g,i.resetTxt),r(m,i.links[1]),s.currentForm=s.forms[2]):"init"===e&&(n(c,d),r(g,i.loginTxt),r(m,i.links[1]),s.currentForm=s.forms[0]),!0},e.prototype.showAlert=function(e,r){return void 0===e&&(e=!1),e&&e.fail?(o("#"+r.messageBox).addClass(r.alert),o("."+r.text).empty().text(e.message)):(o("#"+r.messageBox).removeClass(r.alert),o("."+r.text).empty()),!0},e.prototype.closePanel=function(){o("."+s.frodoLogin.submit);return o("#"+s.frodoWrapper).removeClass(s.noScroll),this.resetMainClasses(),o("#"+s.frodoWrapper).removeClass(s.noScroll),this.clearInputs(),this.submitDisabled(!1),s.currentForm=null,!0},e.prototype.clearInputs=function(){return o("."+s.frodoLogin.input).each(function(){this.value=""}),!0},e.prototype.getRandomInt=function(o,e){return Math.floor(Math.random()*(e-o+1))+o},o.fn.frodo=function(o){return new e(this.filter("[data-login]"),o),this}}(jQuery);
//# sourceMappingURL=jquery.frodo.min.js.map
